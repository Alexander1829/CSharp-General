Задача.
Предположим, у нас есть коллекция объектов, типа List<Plan>, 
называющаяся plansSelection (в коллекции от 5 000 000 до 10 000 000 элементов). 
<code>
  class Plan { public string PlanId {get; set;} public decimal DeltaValue {get; set;} }
</code>
PlanId - может повторяться в plansSelection.

Нужно: создать пополняемую коллекцию объектов, называющуюся newPlans - реализацию придумать самостоятельно -,
элементы которой будут содержать ключ PlanId и значение Value равное сумме всех значений DeltaValue из plansSelection
с соответствующим PlanId.


Решение:
<code>
public void Calculate(List<Plan> plansSelection, Dictionary<string, BigInteger> newPlans)
{
  foreach (var plan in plansSelection)	  
  { 	
    if(newPlans.ContainsKey(plan.Id))
    {
      newPlans[plan.Id] = BigInteger.Add(newPlans[plan.Id], new BigInteger(plan.DeltaValue));
    }
    else
      newPlans.Add(plan.Id, new BigInteger(plan.DeltaValue));
  }			
}	
</code>
Комментарий: ключевым моментом является использование индексированной коллекции, Dictionary.
